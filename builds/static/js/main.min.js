!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="./static/js/",__webpack_require__(__webpack_require__.s=0)}([function(module,exports,__webpack_require__){"use strict";document.getElementById("calendar-table");var coordLeftSelectBlock,gridTable=document.getElementById("table-body"),popup=document.querySelector(".calendar-footer"),currentDate=new Date,selectedDate=currentDate,selectedDayBlock=null,globalEventObj={};function createCalendar(date,side){var currentDate=date,startDate=new Date(currentDate.getFullYear(),currentDate.getMonth(),1),monthTitle=document.getElementById("month-name"),monthName=currentDate.toLocaleString("ru-RU",{month:"long"}),yearNum=currentDate.toLocaleString("ru-RU",{year:"numeric"});monthTitle.innerHTML="".concat(monthName," ").concat(yearNum),gridTable.className="left"==side?"animated fadeOutRight":"animated fadeOutLeft",gridTable.innerHTML="";var newTr=document.createElement("div");newTr.className="row";for(var currentTr=gridTable.appendChild(newTr),prevDays=new Date(currentDate.getFullYear(),currentDate.getMonth()+1,0).getDate(),firstDay=new Date(currentDate.getFullYear(),currentDate.getMonth(),1).getDay(),i=1;i<startDate.getDay();i++){var emptyDivCol=document.createElement("div");emptyDivCol.className="col empty-day";var number=prevDays-firstDay+(i+1),currentDateNum=document.createElement("div");currentDateNum.className="date",currentDateNum.innerHTML=number,emptyDivCol.appendChild(currentDateNum),currentTr.appendChild(emptyDivCol)}var lastDay=new Date(currentDate.getFullYear(),currentDate.getMonth()+1,0);lastDay=lastDay.getDate();for(var _loop=function(_i){var node;currentTr.getElementsByClassName("col").length>=7&&(currentTr=gridTable.appendChild(((node=document.createElement("div")).className="row",node)));var currentDay=document.createElement("div");currentDay.className="col";var currentDateNum=document.createElement("div");currentDateNum.className="date",currentDateNum.innerHTML=_i;var currentEvent=document.createElement("div");currentEvent.className="event",currentDay.appendChild(currentDateNum),currentDay.appendChild(currentEvent),(null==selectedDayBlock&&_i==currentDate.getDate()||selectedDate.toDateString()==new Date(currentDate.getFullYear(),currentDate.getMonth(),_i).toDateString())&&(selectedDate=new Date(currentDate.getFullYear(),currentDate.getMonth(),_i),selectedDayBlock=currentDay,setTimeout(function(){currentDay.classList.add("blue"),currentDay.classList.add("lighten-3")},900)),currentTr.appendChild(currentDay)},_i=1;_i<=lastDay;_i++)_loop(_i);for(var _i2=currentTr.getElementsByClassName("col").length;_i2<7;_i2++){var _emptyDivCol=document.createElement("div"),notEmptyDivCol=currentTr.querySelectorAll(".col:not(.empty-day)").length;_emptyDivCol.className="col empty-day";var _number=currentTr.getElementsByClassName("col").length-notEmptyDivCol+1;_emptyDivCol.innerHTML=_number,currentTr.appendChild(_emptyDivCol)}setTimeout(function(){gridTable.className="left"==side?"animated fadeInLeft":"animated fadeInRight"},270);var firstCol=gridTable.querySelector(".row:first-child").querySelectorAll(".col"),weekArr=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"];firstCol.forEach(function(el,i){var dateEl=el.querySelector(".date"),currentWeek=document.createElement("div");3===i&&(coordLeftSelectBlock=getCoords(el).left),currentWeek.className="week",currentWeek.innerHTML=weekArr[i],el.insertBefore(currentWeek,dateEl)})}createCalendar(currentDate),document.getElementById("today-day-name").innerHTML="Сегодня "+currentDate.toLocaleString("ru-RU",{weekday:"long",day:"numeric",month:"short"});var prevButton=document.getElementById("prev"),nextButton=document.getElementById("next");function getCoords(elem){var box=elem.getBoundingClientRect();return{top:box.top+pageYOffset,left:box.left+pageXOffset}}prevButton.onclick=function(e){createCalendar(currentDate=new Date(currentDate.getFullYear(),currentDate.getMonth()-1),"left")},nextButton.onclick=function(e){createCalendar(currentDate=new Date(currentDate.getFullYear(),currentDate.getMonth()+1),"right")},gridTable.onclick=function(e){for(var target=e.target;target!=this;){if(target.classList.contains("col")){selectedDayBlock&&selectedDayBlock.classList.contains("blue")&&selectedDayBlock.classList.remove("blue"),(selectedDayBlock=target).classList.add("blue"),selectedDate=new Date(currentDate.getFullYear(),currentDate.getMonth(),parseInt(target.getElementsByClassName("date")[0].innerHTML));var eventTitle=target.querySelector(".event-card-header"),eventDescr=target.querySelector(".eventCard-description");if(document.getElementById("eventTitleInput").value="",document.getElementById("eventDescInput").value="",eventTitle){var eventTitleValue=eventTitle.textContent;document.getElementById("eventTitleInput").value=eventTitleValue}if(eventDescr){var eventDescrValue=eventDescr.textContent;document.getElementById("eventDescInput").value=eventDescrValue}popup.classList.add("active");var coord=getCoords(target),top=coord.top-20,left=coord.left+target.offsetWidth+20;coordLeftSelectBlock+target.offsetWidth+20<left?(left=coord.left-popup.offsetWidth-20,popup.classList.add("right")):window.innerWidth<768?(popup.classList.remove("right"),popup.classList.add("bottom"),top=coord.top+20+target.offsetHeight,left=coord.left):(popup.classList.remove("right"),popup.classList.remove("bottom")),popup.style.top=top+"px",popup.style.left=left+"px";break}target=target.parentNode}},document.getElementById("close-footer").onclick=function(e){e.preventDefault(),popup.classList.remove("active")};var addForm=document.getElementById("add-form");document.getElementById("cancelAdd").onclick=function(e){e.preventDefault();for(var inputs=addForm.getElementsByClassName("add-field"),eventBlock=selectedDayBlock.querySelector(".event-card"),i=0;i<inputs.length;i++)inputs[i].value="";popup.classList.remove("active"),eventBlock&&eventBlock.remove()},document.getElementById("addEventButton").onclick=function(e){var title=document.getElementById("eventTitleInput").value.trim(),desc=document.getElementById("eventDescInput").value.trim();if(!title||!desc)return document.getElementById("eventTitleInput").value="",void(document.getElementById("eventDescInput").value="");!function(title,desc){globalEventObj[selectedDate.toDateString()]||(globalEventObj[selectedDate.toDateString()]={}),globalEventObj[selectedDate.toDateString()][title]=desc}(title,desc),function(){var el=arguments.length>0&&void 0!==arguments[0]?arguments[0]:selectedDayBlock,elEvents=el.querySelector(".event"),objWithDate=globalEventObj[selectedDate.toDateString()];if(!objWithDate)return!1;for(var key in globalEventObj[selectedDate.toDateString()]){var eventContainer=document.createElement("div"),eventHeader=document.createElement("div");eventHeader.className="event-card-header";var eventDescription=document.createElement("div");eventDescription.className="eventCard-description",eventHeader.appendChild(document.createTextNode(key)),eventContainer.appendChild(eventHeader),eventDescription.appendChild(document.createTextNode(objWithDate[key])),eventContainer.appendChild(eventDescription);var markWrapper=document.createElement("div");markWrapper.className="eventCard-mark-wrapper";var mark=document.createElement("div");mark.classList="eventCard-mark",markWrapper.appendChild(mark),eventContainer.appendChild(markWrapper),eventContainer.className="event-card";var sidebarEventsOld=el.querySelector(".event .event-card");sidebarEventsOld?elEvents.replaceChild(eventContainer,sidebarEventsOld):elEvents.appendChild(eventContainer)}localStorage.setItem("myCalendar",JSON.stringify(globalEventObj))}(selectedDayBlock);for(var inputs=addForm.getElementsByClassName("add-field"),i=0;i<inputs.length;i++)inputs[i].value="";popup.classList.remove("active")}}]);